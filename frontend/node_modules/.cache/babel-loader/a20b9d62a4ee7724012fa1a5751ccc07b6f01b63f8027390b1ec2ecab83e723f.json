{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = {\n  class: \"device-form\"\n};\nconst _hoisted_3 = {\n  class: \"devices-list\"\n};\nconst _hoisted_4 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[7] || (_cache[7] = _createElementVNode(\"h1\", null, \"Gerenciamento de Dispositivos\", -1 /* CACHED */)), _createCommentVNode(\" Device Form \"), _createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"Cadastrar Dispositivo\", -1 /* CACHED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.createDevice && $options.createDevice(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newDevice.name = $event),\n    placeholder: \"Nome\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newDevice.name]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newDevice.mac = $event),\n    placeholder: \"MAC Address\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newDevice.mac]]), _cache[3] || (_cache[3] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Cadastrar\", -1 /* CACHED */))], 32 /* NEED_HYDRATION */)]), _createCommentVNode(\" Devices Table \"), _createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"h2\", null, \"Dispositivos\", -1 /* CACHED */)), _createElementVNode(\"table\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Nome\"), _createElementVNode(\"th\", null, \"MAC\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Ações\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.devices, device => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: device.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(device.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(device.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(device.mac), 1 /* TEXT */), _createElementVNode(\"td\", {\n      class: _normalizeClass(device.status.toLowerCase())\n    }, _toDisplayString(device.status), 3 /* TEXT, CLASS */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.toggleStatus(device.id),\n      class: _normalizeClass(device.status === 'ATIVO' ? 'inactive' : 'active')\n    }, _toDisplayString(device.status === 'ATIVO' ? 'Desativar' : 'Ativar'), 11 /* TEXT, CLASS, PROPS */, _hoisted_4)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]);\n}","map":{"version":3,"names":["id","class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","createDevice","$data","newDevice","name","$event","placeholder","required","mac","type","_hoisted_3","_Fragment","_renderList","devices","device","key","_toDisplayString","_normalizeClass","status","toLowerCase","onClick","toggleStatus","_hoisted_4"],"sources":["C:\\Users\\nicolas\\Desktop\\Projetos\\Teste\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <h1>Gerenciamento de Dispositivos</h1>\n    \n    <!-- Device Form -->\n    <div class=\"device-form\">\n      <h2>Cadastrar Dispositivo</h2>\n      <form @submit.prevent=\"createDevice\">\n        <input \n          v-model=\"newDevice.name\" \n          placeholder=\"Nome\" \n          required \n        />\n        <input \n          v-model=\"newDevice.mac\" \n          placeholder=\"MAC Address\" \n          required \n        />\n        <button type=\"submit\">Cadastrar</button>\n      </form>\n    </div>\n\n    <!-- Devices Table -->\n    <div class=\"devices-list\">\n      <h2>Dispositivos</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Nome</th>\n            <th>MAC</th>\n            <th>Status</th>\n            <th>Ações</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"device in devices\" :key=\"device.id\">\n            <td>{{ device.id }}</td>\n            <td>{{ device.name }}</td>\n            <td>{{ device.mac }}</td>\n            <td :class=\"device.status.toLowerCase()\">\n              {{ device.status }}\n            </td>\n            <td>\n              <button \n                @click=\"toggleStatus(device.id)\"\n                :class=\"device.status === 'ATIVO' ? 'inactive' : 'active'\"\n              >\n                {{ device.status === 'ATIVO' ? 'Desativar' : 'Ativar' }}\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { io } from 'socket.io-client';\nimport axios from 'axios';\n\nconst API_URL = 'http://localhost:3000/api';\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      devices: [],\n      newDevice: {\n        name: '',\n        mac: ''\n      },\n      socket: null\n    };\n  },\n  async mounted() {\n    await this.fetchDevices();\n    this.setupWebSocket();\n  },\n  methods: {\n    async fetchDevices() {\n      try {\n        const response = await axios.get(`${API_URL}/devices`);\n        this.devices = response.data;\n      } catch (error) {\n        console.error('Error fetching devices:', error);\n      }\n    },\n    \n    async createDevice() {\n      try {\n        await axios.post(`${API_URL}/devices`, this.newDevice);\n        this.newDevice = { name: '', mac: '' };\n      } catch (error) {\n        alert(error.response?.data?.error || 'Erro ao criar dispositivo');\n      }\n    },\n    \n    async toggleStatus(deviceId) {\n      try {\n        await axios.patch(`${API_URL}/devices/${deviceId}/status`);\n      } catch (error) {\n        console.error('Error toggling status:', error);\n      }\n    },\n    \n    setupWebSocket() {\n      this.socket = io('http://localhost:3000');\n      \n      this.socket.on('device:created', (device) => {\n        this.devices.unshift(device);\n      });\n      \n      this.socket.on('device:status', (device) => {\n        const index = this.devices.findIndex(d => d.id === device.id);\n        if (index !== -1) {\n          this.devices.splice(index, 1, device);\n        }\n      });\n    }\n  },\n  beforeUnmount() {\n    if (this.socket) {\n      this.socket.disconnect();\n    }\n  }\n};\n</script>\n\n<style>\n.ativo { color: green; font-weight: bold; }\n.inativo { color: red; font-weight: bold; }\n\nbutton.active { background: green; color: white; }\nbutton.inactive { background: red; color: white; }\n\ntable { width: 100%; border-collapse: collapse; }\nth, td { padding: 10px; border: 1px solid #ddd; text-align: left; }\n\nform input { margin: 5px; padding: 8px; }\nform button { padding: 8px 15px; background: blue; color: white; border: none; }\n</style>"],"mappings":";;EACOA,EAAE,EAAC;AAAK;;EAINC,KAAK,EAAC;AAAa;;EAkBnBA,KAAK,EAAC;AAAc;;;uBAtB3BC,mBAAA,CAsDM,OAtDNC,UAsDM,G,0BArDJC,mBAAA,CAAsC,YAAlC,+BAA6B,qBAEjCC,mBAAA,iBAAoB,EACpBD,mBAAA,CAeM,OAfNE,UAeM,G,0BAdJF,mBAAA,CAA8B,YAA1B,uBAAqB,qBACzBA,mBAAA,CAYO;IAZAG,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;sBACjCN,mBAAA,CAIE;+DAHSS,KAAA,CAAAC,SAAS,CAACC,IAAI,GAAAC,MAAA;IACvBC,WAAW,EAAC,MAAM;IAClBC,QAAQ,EAAR;iDAFSL,KAAA,CAAAC,SAAS,CAACC,IAAI,E,mBAIzBX,mBAAA,CAIE;+DAHSS,KAAA,CAAAC,SAAS,CAACK,GAAG,GAAAH,MAAA;IACtBC,WAAW,EAAC,aAAa;IACzBC,QAAQ,EAAR;iDAFSL,KAAA,CAAAC,SAAS,CAACK,GAAG,E,6BAIxBf,mBAAA,CAAwC;IAAhCgB,IAAI,EAAC;EAAQ,GAAC,WAAS,oB,8BAInCf,mBAAA,mBAAsB,EACtBD,mBAAA,CA+BM,OA/BNiB,UA+BM,G,0BA9BJjB,mBAAA,CAAqB,YAAjB,cAAY,qBAChBA,mBAAA,CA4BQ,gB,0BA3BNA,mBAAA,CAQQ,gBAPNA,mBAAA,CAMK,aALHA,mBAAA,CAAW,YAAP,IAAE,GACNA,mBAAA,CAAa,YAAT,MAAI,GACRA,mBAAA,CAAY,YAAR,KAAG,GACPA,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAAc,YAAV,OAAK,E,uBAGbA,mBAAA,CAiBQ,iB,kBAhBNF,mBAAA,CAeKoB,SAAA,QAAAC,WAAA,CAfgBV,KAAA,CAAAW,OAAO,EAAjBC,MAAM;yBAAjBvB,mBAAA,CAeK;MAf0BwB,GAAG,EAAED,MAAM,CAACzB;QACzCI,mBAAA,CAAwB,YAAAuB,gBAAA,CAAjBF,MAAM,CAACzB,EAAE,kBAChBI,mBAAA,CAA0B,YAAAuB,gBAAA,CAAnBF,MAAM,CAACV,IAAI,kBAClBX,mBAAA,CAAyB,YAAAuB,gBAAA,CAAlBF,MAAM,CAACN,GAAG,kBACjBf,mBAAA,CAEK;MAFAH,KAAK,EAAA2B,eAAA,CAAEH,MAAM,CAACI,MAAM,CAACC,WAAW;wBAChCL,MAAM,CAACI,MAAM,yBAElBzB,mBAAA,CAOK,aANHA,mBAAA,CAKS;MAJN2B,OAAK,EAAAf,MAAA,IAAEL,QAAA,CAAAqB,YAAY,CAACP,MAAM,CAACzB,EAAE;MAC7BC,KAAK,EAAA2B,eAAA,CAAEH,MAAM,CAACI,MAAM;wBAElBJ,MAAM,CAACI,MAAM,qEAAAI,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}